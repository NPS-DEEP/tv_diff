# This makefile does the following:
# * generates .py from .ui built using QT Designer.
#   We archive the generated .py file so that users do not
#   need to install pyuic5 and do not need to rebuild .py from .ui,
#   likely done with python3 -m pip install PyQt5.
# * generates version_file.py to match VERSION defined here.
#   We archive version_file.py so users don't have to type "make" first.
#
# You do not need to run this makefile unless you:
# * change a .ui file.
# * change the VERSION.

VERSION = 1.0.0

generated_files = settings_dialog.py

.SUFFIXES: .ui .py

.ui.py:
	pyuic5 $< > $@

all: $(generated_files) version_file.py

version_file.py: Makefile
	@echo Updating version_file.py to $(VERSION)
	@echo "# This file is auto-generated by Makefile.  Do not edit this file." > version_file.py
	@echo "VERSION = \"$(VERSION)\"" >> version_file.py

